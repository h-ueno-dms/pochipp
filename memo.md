# コード中のメモ書き

「yyi: 」 -> 元のソースに対するメモ
「memo: 」


# どうする？

- 国際化については完全に捨てる？ -> 変数を定数に変えれたり、割り切れることがでてくる
- 商品管理の「投稿タイトル」と、表側で「表示する商品名」、今は一致させてるけど、個別に情報保存して分けれるようにする？
- Amazon検索でKindle のとき、 リンカーは「Kindle」と「Amazon」の2つのボタンが出てくるが、リンク先は同じ。（Kindle版ページ）
  これどうする？ <- 補足:「商品詳細ページを表示する」設定の時はかぶるが、「検索結果ページを表示する」の時はちゃんと意味がでる。



# あとでやる

- 取得データの key 名分かりやすく整理 
- array_get 整理
- Data 整理
  - TABKEY_AMAZON, TABKEY_RAKUTEN → TABKEY['amazon'], TABKEY['rakuten']
  - TABKEY === ajaxアクション名なので、そのあたり統合する？
  - thickboxのアクション名？とかも定数化


# 注意すべきこと

- AmazonのAPIで検索してきたものは、Amazonの商品詳細ページも取得できるが、楽天リンクは検索結果ページしか取得（生成）できない。
- その逆も然り。
- 楽天の商品詳細URLは、APIで取得する時にすでにアフィリンクになってしまう。
  - Amazonみたいに出力時に「後からアフィリンク化」できないので、アフィリエイトIDの設定が変わった時に過去のデータをどうするか考える。
  - 一括で商品リンク再取得できるようなボタンを導入？アフィIDが変わることはほぼないので、とりあえず無視でいいか...？
- 


# コードに関するメモ書き

- アフィリエイト計測リンクにするのは、フロントに出力する時。
  - 多分 generate_amazon_title_link_with_aid() , generate_amazon_link_with_aid() あたりの処理。

- もしもリンクの生成
  - is_moshimo() 判定 -> generate_moshimo_link()

- 楽天リンクで付与される Rinker_i_, Rinker_t_, Rinker_o_ が謎。
  - タイムスタンプ付きなので、何かの計測用か。

