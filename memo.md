# APIドキュメント

楽天 : https://webservice.rakuten.co.jp/api/ichibaitemsearch/

# 作業メモ
- max-widthの設定を基本設定 & ブロック個別に。
- APIの規約を載せる
- wp-scripts バージョンアップ
- ajax nonce

- リンク切れなどの処理
- 有料化機能は分離
- 更新などを連続でされないように、数分間のキャッシュを行う？

## 今後追加機能
- ボタン上のフリーHTML
- ランキング形式スタイル
- Google Analytics トラッキング
- 独自トラッキング
- キャンペーン機能
- ライセンス認証

# ?
- URLの上書き設定いる？？
  - imp計測imgタグの設定をどうするかとかも考えないといけなくなる。

# コード中のメモ書き
「memo: 」



# あとでやる

- array_get 整理
- Data 整理
  - TABKEY_AMAZON, TABKEY_RAKUTEN → TABKEY['amazon'], TABKEY['rakuten']
  - TABKEY === ajaxアクション名なので、そのあたり統合する？
  - thickboxのアクション名？とかも定数化 ? 


# 注意すべきこと

- AmazonのAPIで検索してきたものは、Amazonの商品詳細ページも取得できるが、楽天リンクは検索結果ページしか取得（生成）できない。
- その逆も然り。
- 楽天の商品詳細URLは、APIで取得する時にすでにアフィリンクになってしまう。
  - Amazonみたいに出力時に「後からアフィリンク化」できないので、アフィリエイトIDの設定が変わった時に過去のデータをどうするか考える。
  - 一括で商品リンク再取得できるようなボタンを導入？アフィIDが変わることはほぼないので、とりあえず無視でいいか...？
